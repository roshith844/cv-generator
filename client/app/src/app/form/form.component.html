@if(showForm){
<button (click)="close()">Close</button>
<form [formGroup]="cvForm" (ngSubmit)="onSubmit()">
    <!-- Personal Information -->
    <div formGroupName="personalInfo">
        <h3>Personal Information</h3>
        <label>
            Name:
            <input type="text" formControlName="name">
            @if(personalInfo.get('name')?.touched && personalInfo.get('name')?.invalid){
            @if(personalInfo.get('name')?.errors?.['required']){
                <span>Name is required</span>
            }
         
            }

        </label>
        <label>
            Email:
            <input type="email" formControlName="email">
            @if(personalInfo.get('email')?.touched && personalInfo.get('email')?.invalid){
                @if(personalInfo.get('email')?.errors?.['required']){
                    <span>email is required</span>
                }
                @if(personalInfo.get('email')?.errors?.['email']){
                    <span>Please enter a valid email</span>
                }
              
                }
        </label>
        <label>
            Phone:
            <input type="tel" formControlName="phone">
            @if(personalInfo.get('phone')?.touched && personalInfo.get('phone')?.invalid){
                @if(personalInfo.get('phone')?.errors?.['required']){
                    <span>phone is required</span>
                }
           
                }
        </label>
        <label>
            Professional Summary:
            <textarea formControlName="summary"></textarea>

        </label>
    </div>

    <!-- Work Experience -->
    <div formArrayName="workExperience">
        <h3>Work Experience</h3>
        <button type="button" (click)="addWorkExperience()">Add Work Experience</button>
        @for(work of workExperience.controls;track i; let i = $index){
        <div [formGroupName]="i">
            <label>
                Job Title:
                <input type="text" formControlName="jobTitle">
                @if(workExperience.at(i).get('jobTitle')?.touched && workExperience.at(i).get('jobTitle')?.invalid){
                    @if(workExperience.at(i).get('jobTitle')?.errors?.['required']){
                        <span>feild is required</span>
                    }
               
                    }
            </label>
            <label>
                Company:
                <input type="text" formControlName="company">
                @if(workExperience.at(i).get('company')?.touched && workExperience.at(i).get('company')?.invalid){
                    @if(workExperience.at(i).get('company')?.errors?.['required']){
                        <span>feild is required</span>
                    }
               
                    }
            </label>
            <label>
                Years:
                <input type="text" formControlName="years">
                @if(workExperience.at(i).get('years')?.touched && workExperience.at(i).get('years')?.invalid){
                    @if(workExperience.at(i).get('years')?.errors?.['required']){
                        <span>feild is required</span>
                    }
                    }
            </label>
            @if(education.controls.length > 1){
            <button type="button" (click)="removeWorkExperience(i)">Remove</button>
            }
        </div>

        }

    </div>

    <!-- Education -->
    <div formArrayName="education">
        <h3>Education</h3>
        <button type="button" (click)="addEducation()">Add Education</button>
        @for(edu of education.controls;track i; let i = $index){
        <div [formGroupName]="i">
            <label>
                Degree:
                <input type="text" formControlName="degree">
                @if(education.at(i).get('degree')?.touched && education.at(i).get('degree')?.invalid){
                    @if(education.at(i).get('degree')?.errors?.['required']){
                        <span>feild is required</span>
                    }
                    }
            </label>
            <label>
                Institution:
                <input type="text" formControlName="institution">
                @if(education.at(i).get('institution')?.touched && education.at(i).get('institution')?.invalid){
                    @if(education.at(i).get('institution')?.errors?.['required']){
                        <span>feild is required</span>
                    }
                    }
            </label>
            <label>
                Years:
                <input type="text" formControlName="years">
                @if(education.at(i).get('years')?.touched && education.at(i).get('years')?.invalid){
                    @if(education.at(i).get('years')?.errors?.['required']){
                        <span>feild is required</span>
                    }
                    }
            </label>
            @if(education.controls.length > 1){
            <button type="button" (click)="removeEducation(i)">Remove</button>

            }


        </div>

        }

    </div>

    <!-- Skills -->
    <div formArrayName="skills">
        <h3>Skills</h3>
        <button type="button" (click)="addSkill()">Add Skill</button>
        @for(skill of skills.controls; track i; let i = $index){
        <div [formGroupName]="i">
            <label>
                Skillset:
                <input type="text" formControlName="skill">
                @if(skills.at(i).get('skill')?.touched && skills.at(i).get('skill')?.invalid){
                    @if(skills.at(i).get('skill')?.errors?.['required']){
                        <span>feild is required</span>
                    }
                    }
            </label>
            @if(skills.controls.length > 1){
            <button type="button" (click)="removeSkill(i)">Remove</button>
            }
        </div>
        }
    </div>
    <button type="submit">Submit</button>
</form>
}